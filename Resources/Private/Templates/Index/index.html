{namespace lib=Tx_Library_ViewHelpers}
<lib:toolbar categories="{categories}" />
{namespace mvcextjs=Tx_MvcExtjs_ViewHelpers}
<mvcextjs:jsCode.Settings settings="{settings}" />
<mvcextjs:includeInlineJsFromFile name="Before.library.js" />
<mvcextjs:Fe.pluginContainer divContainerId="library" enableExtJsDebug="true" >
	<mvcextjs:jsCode.store remoteSort="true" autoLoad="{'params':{
                            'tx_library_pi1[start]':0,
                            'tx_library_pi1[limit]':pageSize
                    }}" paramNames="{
                    'start':'tx_library_pi1[start]',
                    'limit':'tx_library_pi1[limit]',
                    'sort':'tx_library_pi1[sort]',
                    'dir':'tx_library_pi1[dir]'
                    }" domainModel="Article" id="ArticleStore" reader="new Library.Index.ArticleJsonReader" proxy="new Library.Index.ArticleHttpProxy">
		<mvcextjs:jsCode.jsonReader domainModel="Article" />
		<mvcextjs:jsCode.httpProxy domainModel="Article" controller="Article" api="{read:'index'}" />
	</mvcextjs:jsCode.store>
        <!-- load needed JS Files -->
	<mvcextjs:includeInlineJsFromFile name="After.library.js" />
	<mvcextjs:includeInlineJsFromFile name="ux.TYPO3.Library.GridPanel.js" />
	<mvcextjs:jsCode.columnDefinition columns="{0:'title',1:'author'}" domainModel="Article" />
	<!-- create Ext.onReady() JS-Code generated by mvc_extjs plus some own stuff like loading stores -->
	<mvcextjs:Fe.defaultExtOnReadyPanel items="{0:'new Library.Index.GridPanel'}" renderTo="library" />
	<mvcextjs:includeExtOnReadyFromFile name="ExtOnReady.library.js" />
</mvcextjs:Fe.pluginContainer>